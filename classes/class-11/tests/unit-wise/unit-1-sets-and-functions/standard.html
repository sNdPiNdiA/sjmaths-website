<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Unit 1: Sets and Functions (Standard) | Class 11 Maths</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
    
    <!-- Shared Test CSS -->
    <link rel="stylesheet" href="../../../../../assets/css/test-interface.css">
    
    <!-- MathJax -->
    <script>
        window.MathJax = {
            tex: { inlineMath: [['$', '$'], ['\\(', '\\)']] },
            svg: { fontCache: 'global' }
        };
    </script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <style>
        @media (max-width: 768px) {
            .test-header {
                padding: 0.5rem 1rem;
                height: auto;
                flex-wrap: wrap;
                gap: 10px;
            }
            .logo { font-size: 1rem !important; }
            .timer-badge { font-size: 0.9rem; padding: 4px 10px; }

            .test-container {
                flex-direction: column;
                height: calc(100vh - 120px);
            }
            .question-panel {
                width: 100%;
                flex: 1;
                border-right: none;
                border-bottom: 1px solid #eee;
                overflow-y: auto;
                padding: 15px;
                box-sizing: border-box;
            }
            .nav-panel {
                width: 100%;
                height: auto;
                border-left: none;
                border-top: 1px solid #eee;
                max-height: 40vh;
                overflow-y: auto;
                padding: 1rem;
            }
            #paletteToggle { display: block !important; }
            .nav-panel.collapsed #paletteBody { display: none; }
            .nav-panel.collapsed { flex: 0; }
            .nav-panel.collapsed #paletteToggle i { transform: rotate(180deg); }
            
            .test-footer {
                padding: 10px;
                height: auto;
            }
            .q-text, .solution-div {
                word-wrap: break-word;
                overflow-wrap: anywhere;
                white-space: normal;
                max-width: 100%;
            }
        }
    </style>
</head>
<body>

    <!-- Header -->
    <header class="test-header">
        <div class="logo" style="font-weight: 800; color: var(--test-primary); font-size: 1.2rem;">
            &int; SJMaths <span style="color:#666; font-weight:400;">| Unit 1 (Standard)</span>
        </div>
        <div class="timer-badge">
            <i class="far fa-clock"></i> <span id="timerDisplay">35:00</span>
        </div>
        <button class="btn-exit" onclick="if(confirm('Quit test?')) window.location.href='../index.html'">
            Exit
        </button>
    </header>

    <!-- Main Layout -->
    <div class="test-container">
        
        <!-- Left: Question Area -->
        <main class="question-panel">
            <div class="section-header" id="qSection">Section A</div>
            
            <div class="q-header">
                <span id="qNumber">Question 1</span>
                <span id="qMarks">(1 Mark)</span>
            </div>

            <div class="q-text" id="qText">
                <!-- Question Content -->
            </div>

            <div id="inputArea">
                <!-- Options or Textarea -->
            </div>

            <div id="solutionArea" class="solution-div">
                <!-- Solution shown after submit -->
            </div>
        </main>

        <!-- Right: Navigation -->
        <aside class="nav-panel">
            <div style="display:flex; align-items:center; margin-bottom:1rem;">
                <h3 style="margin:0; font-size:1rem;">Question Palette</h3>
                <button id="paletteToggle" style="background:none; border:none; color:var(--test-primary, #2c3e50); cursor:pointer; display:none; font-size:1.1rem; margin-left: auto; margin-right: 10px;">
                    <i class="fas fa-chevron-up" style="transition: transform 0.3s;"></i>
                </button>
            </div>
            
            <div id="paletteBody">
                <div class="palette-grid" id="questionPalette">
                    <!-- Buttons generated by JS -->
                </div>
                
                <div style="margin-top: 2rem; font-size: 0.8rem; color: #666;">
                    <div style="display:flex; gap:8px; align-items:center; margin-bottom:5px;">
                        <span style="width:12px; height:12px; background:#27ae60; border-radius:50%;"></span> Answered
                    </div>
                    <div style="display:flex; gap:8px; align-items:center; margin-bottom:5px;">
                        <span style="width:12px; height:12px; background:#c0392b; border-radius:50%;"></span> Visited
                    </div>
                    <div style="display:flex; gap:8px; align-items:center;">
                        <span style="width:12px; height:12px; border:1px solid #ccc; border-radius:50%;"></span> Not Visited
                    </div>
                </div>
            </div>
        </aside>

    </div>

    <!-- Footer -->
    <footer class="test-footer">
        <button class="btn-nav btn-prev" id="btnPrev">Previous</button>
        <button class="btn-nav btn-next" id="btnNext">Next</button>
    </footer>

    <!-- Result Modal -->
    <div class="result-overlay" id="resultModal">
        <div class="result-card">
            <div class="score-circle">
                <div class="score-text"></div>
            </div>
            <div id="resultMessage"></div>
            <button class="btn-nav btn-submit" onclick="closeResult()" style="margin-top:1.5rem;">Review Answers</button>
            <a href="../index.html" style="display:block; margin-top:1rem; color:#666; text-decoration:none;">Back to Dashboard</a>
        </div>
    </div>

    <!-- Test Engine Script -->
    <script src="../../../../../assets/js/test-engine.js"></script>
    <script src="../../../../../assets/js/dark-mode.js"></script>
    
    <!-- Test Data Configuration -->
    <script>
        const testConfig = {
            timeLimit: 35, // 35 Minutes
            exitUrl: '../index.html',
            questions: [
                // --- Section A: MCQs (1 Mark) ---
                { id: 1, type: 'mcq', section: 'Section A', marks: 1, question: "If $n(A) = 17$, $n(B) = 23$ and $n(A \\cup B) = 38$, then $n(A \\cap B)$ is", options: ["2", "4", "6", "8"], finalAnswer: "(a) 2", solutionSteps: ["$n(A \\cup B) = n(A) + n(B) - n(A \\cap B)$.", "$38 = 17 + 23 - n(A \\cap B)$.", "$38 = 40 - n(A \\cap B) \\implies n(A \\cap B) = 2$."] },
                { id: 2, type: 'mcq', section: 'Section A', marks: 1, question: "The domain of the function $f(x) = \\frac{x^2+2x+1}{x^2-8x+12}$ is", options: ["$R$", "$R - \\{2, 6\\}$", "$R - \\{6\\}$", "$R - \\{2\\}$"], finalAnswer: "(b) $R - \\{2, 6\\}$", solutionSteps: ["Denominator $x^2 - 8x + 12 \\neq 0$.", "$(x-2)(x-6) \\neq 0 \\implies x \\neq 2, 6$."] },
                { id: 3, type: 'mcq', section: 'Section A', marks: 1, question: "Let $A = \\{1, 2, 3\\}$. The total number of distinct relations that can be defined over $A$ is", options: ["$2^9$", "$2^3$", "9", "$2^6$"], finalAnswer: "(a) $2^9$", solutionSteps: ["Number of relations on $A$ is $2^{n(A) \\times n(A)}$.", "$n(A)=3$, so $2^{3 \\times 3} = 2^9 = 512$."] },
                { id: 4, type: 'mcq', section: 'Section A', marks: 1, question: "The range of $f(x) = 1 - |x-2|$ is", options: ["$R$", "$(1, \\infty)$", "$(-\\infty, 1]$", "$[1, \\infty)$"], finalAnswer: "(c) $(-\\infty, 1]$", solutionSteps: ["$|x-2| \\ge 0$.", "$-|x-2| \\le 0$.", "$1 - |x-2| \\le 1$. Range is $(-\\infty, 1]$."] },
                { id: 5, type: 'mcq', section: 'Section A', marks: 1, question: "If $A = \\{1, 2\\}$, then the power set $P(A)$ is", options: ["$\\{\\{1\\}, \\{2\\}\\}$", "$\\{\\phi, \\{1\\}, \\{2\\}\\}$", "$\\{\\phi, \\{1\\}, \\{2\\}, \\{1, 2\\}\\}$", "$\\{1, 2\\}$"], finalAnswer: "(c) $\\{\\phi, \\{1\\}, \\{2\\}, \\{1, 2\\}\\}$", solutionSteps: ["Power set is the set of all subsets.", "Subsets of $\\{1, 2\\}$ are $\\phi, \\{1\\}, \\{2\\}, \\{1, 2\\}$."] },

                // --- Section B: Subjective (2 Marks) ---
                { id: 6, type: 'subjective', section: 'Section B', marks: 2, question: "Find the domain and range of the real function $f(x) = \\sqrt{9-x^2}$.", finalAnswer: "D: $[-3, 3]$, R: $[0, 3]$", solutionSteps: ["Domain: $9-x^2 \\ge 0 \\implies x^2 \\le 9 \\implies x \\in [-3, 3]$.", "Range: $y = \\sqrt{9-x^2}$. Min $y=0$ (at $x=3$), Max $y=3$ (at $x=0$). Range $[0, 3]$."] },
                { id: 7, type: 'subjective', section: 'Section B', marks: 2, question: "If $A \\times B = \\{(p, q), (p, r), (m, q), (m, r)\\}$, find $A$ and $B$.", finalAnswer: "$A=\\{p, m\\}, B=\\{q, r\\}$", solutionSteps: ["$A$ is the set of first components: $\\{p, m\\}$.", "$B$ is the set of second components: $\\{q, r\\}$."] },
                { id: 8, type: 'subjective', section: 'Section B', marks: 2, question: "Let $A = \\{1, 2, 3, 4, 5, 6\\}$. Define a relation $R$ from $A$ to $A$ by $R = \\{(x, y) : y = x + 1\\}$. Write $R$ in roster form.", finalAnswer: "$\\{(1,2), (2,3), (3,4), (4,5), (5,6)\\}$", solutionSteps: ["$x=1, y=2$.", "$x=2, y=3$.", "$x=3, y=4$.", "$x=4, y=5$.", "$x=5, y=6$.", "$x=6, y=7 \\notin A$.", "$R = \\{(1,2), (2,3), (3,4), (4,5), (5,6)\\}$."] },

                // --- Section C: Subjective (3 Marks) ---
                { id: 9, type: 'subjective', section: 'Section C', marks: 3, question: "In a survey of 400 students in a school, 100 were listed as taking apple juice, 150 as taking orange juice and 75 were listed as taking both apple as well as orange juice. Find how many students were taking neither apple juice nor orange juice.", finalAnswer: "225", solutionSteps: ["$n(U)=400, n(A)=100, n(O)=150, n(A \\cap O)=75$.", "$n(A \\cup O) = n(A) + n(O) - n(A \\cap O) = 100 + 150 - 75 = 175$.", "Neither = $n(U) - n(A \\cup O) = 400 - 175 = 225$."] },
                { id: 10, type: 'subjective', section: 'Section C', marks: 3, question: "Find the domain and range of the real function $f(x) = \\frac{|x-1|}{x-1}$.", finalAnswer: "D: $R-\\{1\\}$, R: $\\{-1, 1\\}$", solutionSteps: ["Domain: Denominator $\\neq 0 \\implies x \\neq 1$. Domain $R - \\{1\\}$.", "Range: If $x > 1, f(x) = 1$. If $x < 1, f(x) = -1$. Range $\\{-1, 1\\}$."] },

                // --- Section D: Long Answer (5 Marks) ---
                { id: 11, type: 'subjective', section: 'Section D', marks: 5, question: "In a survey of 60 people, it was found that 25 people read newspaper H, 26 read newspaper T, 26 read newspaper I, 9 read both H and I, 11 read both H and T, 8 read both T and I, 3 read all three newspapers. Find:<br>(i) the number of people who read at least one of the newspapers.<br>(ii) the number of people who read exactly one newspaper.", finalAnswer: "(i) 52, (ii) 30", solutionSteps: ["(i) $n(H \\cup T \\cup I) = n(H) + n(T) + n(I) - n(H \\cap T) - n(T \\cap I) - n(H \\cap I) + n(H \\cap T \\cap I)$.", "$= 25 + 26 + 26 - 11 - 8 - 9 + 3 = 77 - 28 + 3 = 52$.", "(ii) Only H = $25 - (11-3) - (9-3) - 3 = 25 - 8 - 6 - 3 = 8$.", "Only T = $26 - 8 - 5 - 3 = 10$.", "Only I = $26 - 6 - 5 - 3 = 12$.", "Exactly one = $8 + 10 + 12 = 30$."] },

                // --- Section E: Case Study (4 Marks) ---
                { id: 12, type: 'subjective', section: 'Section E', marks: 4, question: "<strong>Case Study:</strong> A linear function is defined by $f(x) = mx + c$. Given $f(1) = 3$ and $f(2) = 5$.<br>(i) Find the values of $m$ and $c$.<br>(ii) Find $f(5)$.<br>(iii) Find $x$ when $f(x) = 11$.", finalAnswer: "(i) m=2, c=1, (ii) 11, (iii) 5", solutionSteps: ["(i) $m(1) + c = 3$ and $m(2) + c = 5$.", "Subtracting: $m = 2$. Then $2(1) + c = 3 \\implies c = 1$.", "$f(x) = 2x + 1$.", "(ii) $f(5) = 2(5) + 1 = 11$.", "(iii) $2x + 1 = 11 \\implies 2x = 10 \\implies x = 5$."] }
            ]
        };

        document.addEventListener('DOMContentLoaded', () => {
            new TestEngine(testConfig);

            // Mobile Palette Toggle
            const toggleBtn = document.getElementById('paletteToggle');
            const navPanel = document.querySelector('.nav-panel');
            
            if(toggleBtn && navPanel) {
                toggleBtn.addEventListener('click', () => {
                    navPanel.classList.toggle('collapsed');
                });
            }
        });
    </script>
</body>
</html>