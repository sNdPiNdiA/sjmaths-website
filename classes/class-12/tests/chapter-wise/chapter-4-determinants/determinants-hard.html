<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test: Determinants (Hard) | Class 12 Maths</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
    
    <!-- Shared Test CSS -->
    <link rel="stylesheet" href="../../../../../assets/css/test-interface.css">
    
    <!-- MathJax -->
    <script>
        window.MathJax = {
            tex: { inlineMath: [['$', '$'], ['\\(', '\\)']] },
            svg: { fontCache: 'global' }
        };
    </script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
</head>
<body>

    <!-- Header -->
    <header class="test-header">
        <div class="logo" style="font-weight: 800; color: var(--test-primary); font-size: 1.2rem;">
            &int; SJMaths <span style="color:#666; font-weight:400;">| Determinants (Hard)</span>
        </div>
        <div class="timer-badge">
            <i class="far fa-clock"></i> <span id="timerDisplay">45:00</span>
        </div>
        <button class="btn-exit" onclick="if(confirm('Quit test?')) window.location.href='../../index.html'">
            Exit
        </button>
    </header>

    <!-- Main Layout -->
    <div class="test-container">
        
        <!-- Left: Question Area -->
        <main class="question-panel">
            <div class="section-header" id="qSection">Section A</div>
            
            <div class="q-header">
                <span id="qNumber">Question 1</span>
                <span id="qMarks">(1 Mark)</span>
            </div>

            <div class="q-text" id="qText">
                <!-- Question Content -->
            </div>

            <div id="inputArea">
                <!-- Options or Textarea -->
            </div>

            <div id="solutionArea" class="solution-div">
                <!-- Solution shown after submit -->
            </div>
        </main>

        <!-- Right: Navigation -->
        <aside class="nav-panel">
            <h3 style="margin:0 0 1rem 0; font-size:1rem;">Question Palette</h3>
            <div class="palette-grid" id="questionPalette">
                <!-- Buttons generated by JS -->
            </div>
            
            <div style="margin-top: 2rem; font-size: 0.8rem; color: #666;">
                <div style="display:flex; gap:8px; align-items:center; margin-bottom:5px;">
                    <span style="width:12px; height:12px; background:#27ae60; border-radius:50%;"></span> Answered
                </div>
                <div style="display:flex; gap:8px; align-items:center; margin-bottom:5px;">
                    <span style="width:12px; height:12px; background:#c0392b; border-radius:50%;"></span> Visited
                </div>
                <div style="display:flex; gap:8px; align-items:center;">
                    <span style="width:12px; height:12px; border:1px solid #ccc; border-radius:50%;"></span> Not Visited
                </div>
            </div>
        </aside>

    </div>

    <!-- Footer -->
    <footer class="test-footer">
        <button class="btn-nav btn-prev" id="btnPrev">Previous</button>
        <button class="btn-nav btn-next" id="btnNext">Next</button>
    </footer>

    <!-- Result Modal -->
    <div class="result-overlay" id="resultModal">
        <div class="result-card">
            <div class="score-circle">
                <div class="score-text"></div>
            </div>
            <div id="resultMessage"></div>
            <button class="btn-nav btn-submit" onclick="closeResult()" style="margin-top:1.5rem;">Review Answers</button>
            <a href="../../index.html" style="display:block; margin-top:1rem; color:#666; text-decoration:none;">Back to Dashboard</a>
        </div>
    </div>

    <!-- Test Engine Script -->
    <script src="../../../../../assets/js/test-engine.js"></script>
    
    <!-- Test Data Configuration -->
    <script>
        const testConfig = {
            timeLimit: 45, // Minutes
            exitUrl: '../../index.html',
            questions: [
                // Section A: MCQs (1 Mark)
                { id: 1, type: 'mcq', section: 'Section A', marks: 1, question: "If $A$ is a square matrix of order 3 such that $|A| = 2$, then $|A(\\text{adj } A)|$ is", options: ["4", "8", "2", "1"], finalAnswer: "(b) 8", solutionSteps: ["We know $A(\\text{adj } A) = |A|I$.", "$|A(\\text{adj } A)| = ||A|I| = |A|^3 |I| = |A|^3$.", "Given $|A|=2$, so $2^3 = 8$."] },
                { id: 2, type: 'mcq', section: 'Section A', marks: 1, question: "If $A$ is a skew-symmetric matrix of order 3, then the value of $|A|$ is", options: ["0", "1", "-1", "Depends on elements"], finalAnswer: "(a) 0", solutionSteps: ["For skew-symmetric matrix $A$, $A' = -A$.", "$|A'| = |-A| = (-1)^n |A|$.", "For odd order $n=3$, $|A| = -|A| \\implies 2|A| = 0 \\implies |A| = 0$."] },
                { id: 3, type: 'mcq', section: 'Section A', marks: 1, question: "If the points $(2, -3)$, $(k, -1)$ and $(0, 4)$ are collinear, then $k$ is", options: ["2", "4", "10/7", "7/10"], finalAnswer: "(c) 10/7", solutionSteps: ["Area of triangle is 0.", "$\\frac{1}{2} |2(-1-4) + k(4-(-3)) + 0(-3-(-1))| = 0$.", "$|2(-5) + k(7) + 0| = 0$.", "$-10 + 7k = 0 \\implies 7k = 10 \\implies k = 10/7$."] },
                { id: 4, type: 'mcq', section: 'Section A', marks: 1, question: "If $A$ is an invertible matrix of order 2 and $\\det(A) = 3$, then $\\det(A^{-1})$ is equal to", options: ["3", "1/3", "9", "1/9"], finalAnswer: "(b) 1/3", solutionSteps: ["$\\det(A^{-1}) = \\frac{1}{\\det(A)} = \\frac{1}{3}$."] },

                // Section B: Subjective (2 Marks)
                { id: 5, type: 'subjective', section: 'Section B', marks: 2, question: "Find the value of $k$ if the system of equations $2x + ky = 1$ and $3x - 5y = 7$ has a unique solution.", finalAnswer: "$k \\neq -10/3$", solutionSteps: ["For unique solution, $\\frac{a_1}{a_2} \\neq \\frac{b_1}{b_2}$.", "$\\frac{2}{3} \\neq \\frac{k}{-5}$.", "$-10 \\neq 3k \\implies k \\neq -10/3$."] },
                { id: 6, type: 'subjective', section: 'Section B', marks: 2, question: "Using determinants, find the area of the triangle with vertices $(1, 0)$, $(6, 0)$, and $(4, 3)$.", finalAnswer: "7.5 sq units", solutionSteps: ["Area = $\\frac{1}{2} |x_1(y_2-y_3) + x_2(y_3-y_1) + x_3(y_1-y_2)|$.", "$= \\frac{1}{2} |1(0-3) + 6(3-0) + 4(0-0)|$.", "$= \\frac{1}{2} |-3 + 18 + 0| = \\frac{1}{2} |15| = 7.5$."] },

                // Section C: Long Answer (4-5 Marks)
                { id: 7, type: 'subjective', section: 'Section C', marks: 4, question: "Solve the following system of equations by matrix method:<br>$x - y + 2z = 7$<br>$3x + 4y - 5z = -5$<br>$2x - y + 3z = 12$", finalAnswer: "$x = 2, y = 1, z = 3$", solutionSteps: ["$|A| = 1(12-5) - (-1)(9+10) + 2(-3-8) = 7 + 19 - 22 = 4 \\neq 0$.", "Find cofactors and adj A.", "$A^{-1} = \\frac{1}{4} \\begin{bmatrix} 7 & 1 & -3 \\\\ -19 & -1 & 11 \\\\ -11 & -1 & 7 \\end{bmatrix}$.", "$X = A^{-1}B$. Calculate product.", "$x=2, y=1, z=3$."] },
                { id: 8, type: 'subjective', section: 'Section C', marks: 5, question: "Determine the product $\\begin{bmatrix} -4 & 4 & 4 \\\\ -7 & 1 & 3 \\\\ 5 & -3 & -1 \\end{bmatrix} \\begin{bmatrix} 1 & -1 & 1 \\\\ 1 & -2 & -2 \\\\ 2 & 1 & 3 \\end{bmatrix}$ and use it to solve the system of equations:<br>$x - y + z = 4$<br>$x - 2y - 2z = 9$<br>$2x + y + 3z = 1$", finalAnswer: "$x = 3, y = -2, z = -1$", solutionSteps: ["Let product be $AB$. $AB = \\begin{bmatrix} 8 & 0 & 0 \\\\ 0 & 8 & 0 \\\\ 0 & 0 & 8 \\end{bmatrix} = 8I$.", "So $A B = 8I \\implies B^{-1} = \\frac{1}{8} A$.", "The given system has coefficient matrix $B$.", "Solution $X = B^{-1}C = \\frac{1}{8} A C$.", "$C = \\begin{bmatrix} 4 \\\\ 9 \\\\ 1 \\end{bmatrix}$.", "Calculate $\\frac{1}{8} \\begin{bmatrix} -4 & 4 & 4 \\\\ -7 & 1 & 3 \\\\ 5 & -3 & -1 \\end{bmatrix} \\begin{bmatrix} 4 \\\\ 9 \\\\ 1 \\end{bmatrix}$."] },

                // Section D: Case Study
                { id: 9, type: 'subjective', section: 'Section D', marks: 4, question: "<strong>Case Study:</strong> A school wants to award its students for the values of Honesty, Regularity, and Hard work with a total cash award of ₹ 6,000. Three times the award money for Hard work added to that given for Honesty amounts to ₹ 11,000. The award money for Honesty and Hard work together is double the one given for Regularity. Represent the above situation algebraically and solve using matrix method.", finalAnswer: "Honesty: ₹500, Regularity: ₹2000, Hard work: ₹3500", solutionSteps: ["Let awards be $x, y, z$.", "$x + y + z = 6000$.", "$x + 3z = 11000$.", "$x + z = 2y \\implies x - 2y + z = 0$.", "Solve system $AX=B$.", "$x=500, y=2000, z=3500$."] }
            ]
        };

        document.addEventListener('DOMContentLoaded', () => {
            new TestEngine(testConfig);
        });
    </script>
</body>
</html>