<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test: Continuity & Differentiability | Class 12 Maths</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
    
    <!-- Shared Test CSS -->
    <link rel="stylesheet" href="../../../../../assets/css/test-interface.css">
    
    <!-- MathJax -->
    <script>
        window.MathJax = {
            tex: { inlineMath: [['$', '$'], ['\\(', '\\)']] },
            svg: { fontCache: 'global' }
        };
    </script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
</head>
<body>

    <!-- Header -->
    <header class="test-header">
        <div class="logo" style="font-weight: 800; color: var(--test-primary); font-size: 1.2rem;">
            &int; SJMaths <span style="color:#666; font-weight:400;">| Continuity & Diff.</span>
        </div>
        <div class="timer-badge">
            <i class="far fa-clock"></i> <span id="timerDisplay">30:00</span>
        </div>
        <button class="btn-exit" onclick="if(confirm('Quit test?')) window.location.href='../../index.html'">
            Exit
        </button>
    </header>

    <!-- Main Layout -->
    <div class="test-container">
        
        <!-- Left: Question Area -->
        <main class="question-panel">
            <div class="section-header" id="qSection">Section A</div>
            
            <div class="q-header">
                <span id="qNumber">Question 1</span>
                <span id="qMarks">(1 Mark)</span>
            </div>

            <div class="q-text" id="qText">
                <!-- Question Content -->
            </div>

            <div id="inputArea">
                <!-- Options or Textarea -->
            </div>

            <div id="solutionArea" class="solution-div">
                <!-- Solution shown after submit -->
            </div>
        </main>

        <!-- Right: Navigation -->
        <aside class="nav-panel">
            <h3 style="margin:0 0 1rem 0; font-size:1rem;">Question Palette</h3>
            <div class="palette-grid" id="questionPalette">
                <!-- Buttons generated by JS -->
            </div>
            
            <div style="margin-top: 2rem; font-size: 0.8rem; color: #666;">
                <div style="display:flex; gap:8px; align-items:center; margin-bottom:5px;">
                    <span style="width:12px; height:12px; background:#27ae60; border-radius:50%;"></span> Answered
                </div>
                <div style="display:flex; gap:8px; align-items:center; margin-bottom:5px;">
                    <span style="width:12px; height:12px; background:#c0392b; border-radius:50%;"></span> Visited
                </div>
                <div style="display:flex; gap:8px; align-items:center;">
                    <span style="width:12px; height:12px; border:1px solid #ccc; border-radius:50%;"></span> Not Visited
                </div>
            </div>
        </aside>

    </div>

    <!-- Footer -->
    <footer class="test-footer">
        <button class="btn-nav btn-prev" id="btnPrev">Previous</button>
        <button class="btn-nav btn-next" id="btnNext">Next</button>
    </footer>

    <!-- Result Modal -->
    <div class="result-overlay" id="resultModal">
        <div class="result-card">
            <div class="score-circle">
                <div class="score-text"></div>
            </div>
            <div id="resultMessage"></div>
            <button class="btn-nav btn-submit" onclick="closeResult()" style="margin-top:1.5rem;">Review Answers</button>
            <a href="../../index.html" style="display:block; margin-top:1rem; color:#666; text-decoration:none;">Back to Dashboard</a>
        </div>
    </div>

    <!-- Test Engine Script -->
    <script src="../../../../../assets/js/test-engine.js"></script>
    
    <!-- Test Data Configuration -->
    <script>
        const testConfig = {
            timeLimit: 30, // Minutes
            exitUrl: '../../index.html',
            questions: [
                // Section A: MCQs (1 Mark)
                { id: 1, type: 'mcq', section: 'Section A', marks: 1, question: "The function $f(x) = |x-1|$ is", options: ["continuous and differentiable at x=1", "continuous but not differentiable at x=1", "discontinuous at x=1", "neither continuous nor differentiable at x=1"], finalAnswer: "(b) continuous but not differentiable at x=1", solutionSteps: ["Modulus function is continuous everywhere.", "At x=1, LHD = -1 and RHD = 1. Since LHD â‰  RHD, it is not differentiable."] },
                { id: 2, type: 'mcq', section: 'Section A', marks: 1, question: "The derivative of $e^{x^3}$ with respect to $x$ is", options: ["$e^{x^3}$", "$3x^2 e^{x^3}$", "$3x e^{x^3}$", "$x^3 e^{x^3}$"], finalAnswer: "(b) $3x^2 e^{x^3}$", solutionSteps: ["Using chain rule: $\\frac{d}{dx}(e^{x^3}) = e^{x^3} \\cdot \\frac{d}{dx}(x^3) = e^{x^3} \\cdot 3x^2$."] },
                { id: 3, type: 'mcq', section: 'Section A', marks: 1, question: "The greatest integer function $f(x) = [x]$ is discontinuous at", options: ["all integers", "all rational numbers", "x=0 only", "nowhere"], finalAnswer: "(a) all integers", solutionSteps: ["The greatest integer function jumps at every integer value, making it discontinuous at all $x \\in Z$."] },
                { id: 4, type: 'mcq', section: 'Section A', marks: 1, question: "If $y = \\log(\\cos e^x)$, then $\\frac{dy}{dx}$ is", options: ["$-\\tan(e^x)$", "$-e^x \\tan(e^x)$", "$e^x \\tan(e^x)$", "$\\cot(e^x)$"], finalAnswer: "(b) $-e^x \\tan(e^x)$", solutionSteps: ["$\\frac{dy}{dx} = \\frac{1}{\\cos e^x} \\cdot (-\\sin e^x) \\cdot e^x = -\\tan(e^x) \\cdot e^x$."] },

                // Section B: VSA (1 Mark)
                { id: 5, type: 'subjective', section: 'Section B', marks: 1, question: "Find $\\frac{dy}{dx}$ if $2x + 3y = \\sin x$.", finalAnswer: "$\\frac{\\cos x - 2}{3}$", solutionSteps: ["Differentiating w.r.t x: $2 + 3\\frac{dy}{dx} = \\cos x$.", "$3\\frac{dy}{dx} = \\cos x - 2$.", "$\\frac{dy}{dx} = \\frac{\\cos x - 2}{3}$."] },
                { id: 6, type: 'subjective', section: 'Section B', marks: 1, question: "Differentiate $5^x$ with respect to $x$.", finalAnswer: "$5^x \\log 5$", solutionSteps: ["Standard formula: $\\frac{d}{dx}(a^x) = a^x \\log a$."] },

                // Section C: Short Answer (2 Marks)
                { id: 7, type: 'subjective', section: 'Section C', marks: 2, question: "Find the value of $k$ so that the function $f(x) = \\begin{cases} kx^2, & x \\le 2 \\\\ 3, & x > 2 \\end{cases}$ is continuous at $x=2$.", finalAnswer: "$k = 3/4$", solutionSteps: ["LHL at x=2: $\\lim_{x \\to 2^-} kx^2 = 4k$.", "RHL at x=2: $\\lim_{x \\to 2^+} 3 = 3$.", "For continuity, LHL = RHL $\\implies 4k = 3 \\implies k = 3/4$."] },
                { id: 8, type: 'subjective', section: 'Section C', marks: 2, question: "Find $\\frac{dy}{dx}$ if $y = \\cos(\\log x + e^x), x > 0$.", finalAnswer: "$-\\sin(\\log x + e^x) \\cdot (\\frac{1}{x} + e^x)$", solutionSteps: ["Chain rule: $\\frac{dy}{dx} = -\\sin(\\log x + e^x) \\cdot \\frac{d}{dx}(\\log x + e^x)$.", "$= -\\sin(\\log x + e^x) \\cdot (\\frac{1}{x} + e^x)$."] },

                // Section D: Long Answer (4 Marks)
                { id: 9, type: 'subjective', section: 'Section D', marks: 4, question: "If $y = 3e^{2x} + 2e^{3x}$, prove that $\\frac{d^2y}{dx^2} - 5\\frac{dy}{dx} + 6y = 0$.", finalAnswer: "Proof required", solutionSteps: ["$y = 3e^{2x} + 2e^{3x}$.", "$\\frac{dy}{dx} = 6e^{2x} + 6e^{3x}$.", "$\\frac{d^2y}{dx^2} = 12e^{2x} + 18e^{3x}$.", "LHS: $(12e^{2x} + 18e^{3x}) - 5(6e^{2x} + 6e^{3x}) + 6(3e^{2x} + 2e^{3x})$.", "$= 12e^{2x} + 18e^{3x} - 30e^{2x} - 30e^{3x} + 18e^{2x} + 12e^{3x}$.", "$= (12-30+18)e^{2x} + (18-30+12)e^{3x} = 0$."] },

                // Section E: Case Study (4 Marks)
                { id: 10, type: 'subjective', section: 'Section E', marks: 4, question: "<strong>Case Study:</strong> A function $f(x)$ is defined as $f(x) = \\begin{cases} x+5, & x \\le 1 \\\\ x-5, & x > 1 \\end{cases}$.<br>(i) Find the Left Hand Limit (LHL) at $x=1$.<br>(ii) Find the Right Hand Limit (RHL) at $x=1$.<br>(iii) Is $f(x)$ continuous at $x=1$? Justify.", finalAnswer: "(i) 6, (ii) -4, (iii) No", solutionSteps: ["(i) LHL = $\\lim_{x \\to 1^-} (x+5) = 1+5 = 6$.", "(ii) RHL = $\\lim_{x \\to 1^+} (x-5) = 1-5 = -4$.", "(iii) Since LHL $\\neq$ RHL, the limit does not exist, so $f(x)$ is discontinuous at $x=1$."] }
            ]
        };

        document.addEventListener('DOMContentLoaded', () => {
            new TestEngine(testConfig);
        });
    </script>
</body>
</html>