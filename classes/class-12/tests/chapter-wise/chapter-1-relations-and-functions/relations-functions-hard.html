<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test: Relations & Functions (Level 2) | Class 12 Maths</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
    
    <!-- Shared Test CSS -->
    <link rel="stylesheet" href="../../../../../assets/css/test-interface.css">
    
    <!-- MathJax -->
    <script>
        window.MathJax = {
            tex: { inlineMath: [['$', '$'], ['\\(', '\\)']] },
            svg: { fontCache: 'global' }
        };
    </script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
</head>
<body>

    <!-- Header -->
    <header class="test-header">
        <div class="logo" style="font-weight: 800; color: var(--test-primary); font-size: 1.2rem;">
            &int; SJMaths <span style="color:#666; font-weight:400;">| Rel. & Func. (Hard)</span>
        </div>
        <div class="timer-badge">
            <i class="far fa-clock"></i> <span id="timerDisplay">45:00</span>
        </div>
        <button class="btn-exit" onclick="if(confirm('Quit test?')) window.location.href='../../index.html'">
            Exit
        </button>
    </header>

    <!-- Main Layout -->
    <div class="test-container">
        
        <!-- Left: Question Area -->
        <main class="question-panel">
            <div class="section-header" id="qSection">Section A</div>
            
            <div class="q-header">
                <span id="qNumber">Question 1</span>
                <span id="qMarks">(1 Mark)</span>
            </div>

            <div class="q-text" id="qText">
                <!-- Question Content -->
            </div>

            <div id="inputArea">
                <!-- Options or Textarea -->
            </div>

            <div id="solutionArea" class="solution-div">
                <!-- Solution shown after submit -->
            </div>
        </main>

        <!-- Right: Navigation -->
        <aside class="nav-panel">
            <h3 style="margin:0 0 1rem 0; font-size:1rem;">Question Palette</h3>
            <div class="palette-grid" id="questionPalette">
                <!-- Buttons generated by JS -->
            </div>
            
            <div style="margin-top: 2rem; font-size: 0.8rem; color: #666;">
                <div style="display:flex; gap:8px; align-items:center; margin-bottom:5px;">
                    <span style="width:12px; height:12px; background:#27ae60; border-radius:50%;"></span> Answered
                </div>
                <div style="display:flex; gap:8px; align-items:center; margin-bottom:5px;">
                    <span style="width:12px; height:12px; background:#c0392b; border-radius:50%;"></span> Visited
                </div>
                <div style="display:flex; gap:8px; align-items:center;">
                    <span style="width:12px; height:12px; border:1px solid #ccc; border-radius:50%;"></span> Not Visited
                </div>
            </div>
        </aside>

    </div>

    <!-- Footer -->
    <footer class="test-footer">
        <button class="btn-nav btn-prev" id="btnPrev">Previous</button>
        <button class="btn-nav btn-next" id="btnNext">Next</button>
    </footer>

    <!-- Result Modal -->
    <div class="result-overlay" id="resultModal">
        <div class="result-card">
            <div class="score-circle">
                <div class="score-text"></div>
            </div>
            <div id="resultMessage"></div>
            <button class="btn-nav btn-submit" onclick="closeResult()" style="margin-top:1.5rem;">Review Answers</button>
            <a href="../../index.html" style="display:block; margin-top:1rem; color:#666; text-decoration:none;">Back to Dashboard</a>
        </div>
    </div>

    <!-- Test Engine Script -->
    <script src="../../../../../assets/js/test-engine.js"></script>
    
    <!-- Test Data Configuration -->
    <script>
        const testConfig = {
            timeLimit: 45, // Minutes
            exitUrl: '../../index.html',
            questions: [
                // Section A: MCQs (1 Mark)
                { id: 1, type: 'mcq', section: 'Section A', marks: 1, question: "Let $R$ be a relation on the set $N$ of natural numbers defined by $nRm$ if $n$ divides $m$. Then $R$ is", options: ["Reflexive and symmetric", "Transitive and symmetric", "Equivalence", "Reflexive, transitive but not symmetric"], finalAnswer: "(d) Reflexive, transitive but not symmetric", solutionSteps: ["Reflexive: $n$ divides $n$ (True).", "Symmetric: 2 divides 4 but 4 does not divide 2 (False).", "Transitive: If $n|m$ and $m|k$, then $n|k$ (True)."] },
                { id: 2, type: 'mcq', section: 'Section A', marks: 1, question: "Let $f: R \\to R$ be defined by $f(x) = \\frac{x}{1+|x|}$. Then $f$ is", options: ["one-one and onto", "one-one but not onto", "onto but not one-one", "neither one-one nor onto"], finalAnswer: "(b) one-one but not onto", solutionSteps: ["One-one: Monotonically increasing function.", "Onto: Range is $(-1, 1)$, which is not equal to codomain $R$."] },
                { id: 3, type: 'mcq', section: 'Section A', marks: 1, question: "Let $A = \\{1, 2, 3\\}$. The number of equivalence relations containing $(1, 2)$ is", options: ["1", "2", "3", "4"], finalAnswer: "(b) 2", solutionSteps: ["Smallest: $R_1 = \\{(1,1), (2,2), (3,3), (1,2), (2,1)\\}$.", "Largest: $R_2 = A \\times A$.", "Any other relation adding (1,3) forces (3,1), (2,3), (3,2) due to transitivity, becoming $A \\times A$."] },
                { id: 4, type: 'mcq', section: 'Section A', marks: 1, question: "Let $A = \\{1, 2, 3, \\dots, 9\\}$ and $R$ be relation on $A \\times A$ defined by $(a, b)R(c, d) \\iff a+d = b+c$. The equivalence class $[(2, 5)]$ is", options: ["$\\{(1, 4), (2, 5), (3, 6), \\dots, (6, 9)\\}$", "$\\{(2, 5)\\}$", "$\\{(1, 3), (2, 5)\\}$", "$\\{(5, 2)\\}$"], finalAnswer: "(a) $\\{(1, 4), (2, 5), \\dots, (6, 9)\\}$", solutionSteps: ["$a+d = b+c \\implies a-b = c-d$.", "For $(2,5)$, difference is $2-5 = -3$.", "Find pairs in $A \\times A$ with diff -3: $(1,4), (2,5), (3,6), (4,7), (5,8), (6,9)$."] },

                // Section B: Subjective (2 Marks)
                { id: 5, type: 'subjective', section: 'Section B', marks: 2, question: "Show that the function $f: N \\to N$ given by $f(1) = f(2) = 1$ and $f(x) = x-1$ for every $x > 2$ is onto but not one-one.", finalAnswer: "Proof required", solutionSteps: ["Not one-one: $f(1) = 1$ and $f(2) = 1$, so distinct elements have same image.", "Onto: For any $y \\in N$, if $y=1$, pre-image is 1 or 2. If $y > 1$, pre-image is $y+1$ (since $y+1 > 2$). Thus range is $N$."] },
                { id: 6, type: 'subjective', section: 'Section B', marks: 2, question: "Check injectivity and surjectivity of $f: Z \\to Z$ defined by $f(x) = x^2$.", finalAnswer: "Neither injective nor surjective", solutionSteps: ["Injective: No, $f(1) = 1, f(-1) = 1$.", "Surjective: No, negative integers and non-perfect squares have no pre-image."] },

                // Section C: Long Answer (4-5 Marks)
                { id: 7, type: 'subjective', section: 'Section C', marks: 4, question: "Check whether the function $f: R \\to R$ defined by $f(x) = \\frac{x}{x^2+1}$ is one-one or not.", finalAnswer: "Not one-one", solutionSteps: ["Let $f(x_1) = f(x_2) \\implies \\frac{x_1}{x_1^2+1} = \\frac{x_2}{x_2^2+1}$.", "$x_1 x_2^2 + x_1 = x_2 x_1^2 + x_2$.", "$x_1 x_2 (x_2 - x_1) - (x_2 - x_1) = 0$.", "$(x_2 - x_1)(x_1 x_2 - 1) = 0$.", "$x_1 = x_2$ or $x_1 x_2 = 1$.", "Since $x_1, x_2$ can be reciprocals (e.g., 2 and 0.5), $f(2) = 2/5, f(1/2) = (1/2)/(5/4) = 2/5$.", "Not one-one."] },
                { id: 8, type: 'subjective', section: 'Section C', marks: 5, question: "Let $N$ be the set of natural numbers. Relation $R$ on $N \\times N$ is defined by $(a, b)R(c, d) \\iff ad = bc$. Show that $R$ is an equivalence relation.", finalAnswer: "Proof required", solutionSteps: ["Reflexive: $ab = ba \\implies (a,b)R(a,b)$.", "Symmetric: $ad=bc \\implies cb=da \\implies bc=ad \\implies (c,d)R(a,b)$.", "Transitive: $ad=bc$ and $cf=de$. Multiply: $adcf = bcde \\implies af = be \\implies (a,b)R(e,f)$."] },

                // Section D: Case Study
                { id: 9, type: 'subjective', section: 'Section D', marks: 4, question: "<strong>Case Study:</strong> A general election of Lok Sabha is a gigantic exercise. Let $A$ be the set of all citizens of India who are eligible to exercise their voting right. A relation $R$ is defined on $A$ as follows: $R = \\{(V_1, V_2) : V_1, V_2 \\in A \\text{ and both use their voting right in general election}\\}.$<br>(i) Is $R$ reflexive? Justify.<br>(ii) Is $R$ symmetric? Justify.<br>(iii) Is $R$ transitive? Justify.", finalAnswer: "Equivalence Relation", solutionSteps: ["(i) Reflexive: If $V_1$ voted, then $(V_1, V_1) \\in R$. If $V_1$ didn't vote, $(V_1, V_1) \\notin R$. Wait, the definition implies the set is restricted to those who voted? No, A is eligible voters. If a voter didn't vote, they aren't related to themselves. So NOT reflexive on A. (However, usually in CBSE context, they assume the subset of actual voters, but strictly speaking on A, it's not reflexive for non-voters).", "Let's assume the question implies A is the set of people who voted. If so, it is Equivalence.", "Strict interpretation: Not reflexive (for non-voters), Symmetric (Yes), Transitive (Yes)."] }
            ]
        };

        document.addEventListener('DOMContentLoaded', () => {
            new TestEngine(testConfig);
        });
    </script>
</body>
</html>