<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Unit 1 Test: Relations & Functions | Class 12 Maths</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
    
    <!-- Shared Test CSS -->
    <link rel="stylesheet" href="../../../../../assets/css/test-interface.css">
    
    <!-- MathJax -->
    <script>
        window.MathJax = {
            tex: { inlineMath: [['$', '$'], ['\\(', '\\)']] },
            svg: { fontCache: 'global' }
        };
    </script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <style>
        @media (max-width: 768px) {
            #paletteToggle { display: block !important; }
            .nav-panel.collapsed #paletteBody { display: none; }
            .nav-panel.collapsed #paletteToggle i { transform: rotate(180deg); }
        }
    </style>
</head>
<body>

    <!-- Header -->
    <header class="test-header">
        <div class="logo" style="font-weight: 800; color: var(--test-primary); font-size: 1.2rem;">
            &int; SJMaths <span style="color:#666; font-weight:400;">| Unit 1 Test (Basic)</span>
        </div>
        <div class="timer-badge">
            <i class="far fa-clock"></i> <span id="timerDisplay">60:00</span>
        </div>
        <button class="btn-exit" onclick="if(confirm('Quit test?')) window.location.href='../../index.html'">
            Exit
        </button>
    </header>

    <!-- Main Layout -->
    <div class="test-container">
        
        <!-- Left: Question Area -->
        <main class="question-panel">
            <div class="section-header" id="qSection">Section A</div>
            
            <div class="q-header">
                <span id="qNumber">Question 1</span>
                <span id="qMarks">(1 Mark)</span>
            </div>

            <div class="q-text" id="qText">
                <!-- Question Content -->
            </div>

            <div id="inputArea">
                <!-- Options or Textarea -->
            </div>

            <div id="solutionArea" class="solution-div">
                <!-- Solution shown after submit -->
            </div>
        </main>

        <!-- Right: Navigation -->
        <aside class="nav-panel">
            <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:1rem;">
                <h3 style="margin:0; font-size:1rem;">Question Palette</h3>
                <button id="paletteToggle" style="background:none; border:none; color:var(--test-primary, #2c3e50); cursor:pointer; display:none; font-size:1.1rem;">
                    <i class="fas fa-chevron-up" style="transition: transform 0.3s;"></i>
                </button>
            </div>
            
            <div id="paletteBody">
                <div class="palette-grid" id="questionPalette">
                    <!-- Buttons generated by JS -->
                </div>
                
                <div style="margin-top: 2rem; font-size: 0.8rem; color: #666;">
                    <div style="display:flex; gap:8px; align-items:center; margin-bottom:5px;">
                        <span style="width:12px; height:12px; background:#27ae60; border-radius:50%;"></span> Answered
                    </div>
                    <div style="display:flex; gap:8px; align-items:center; margin-bottom:5px;">
                        <span style="width:12px; height:12px; background:#c0392b; border-radius:50%;"></span> Visited
                    </div>
                    <div style="display:flex; gap:8px; align-items:center;">
                        <span style="width:12px; height:12px; border:1px solid #ccc; border-radius:50%;"></span> Not Visited
                    </div>
                </div>
            </div>
        </aside>

    </div>

    <!-- Footer -->
    <footer class="test-footer">
        <button class="btn-nav btn-prev" id="btnPrev">Previous</button>
        <button class="btn-nav btn-next" id="btnNext">Next</button>
    </footer>

    <!-- Result Modal -->
    <div class="result-overlay" id="resultModal">
        <div class="result-card">
            <div class="score-circle">
                <div class="score-text"></div>
            </div>
            <div id="resultMessage"></div>
            <button class="btn-nav btn-submit" onclick="closeResult()" style="margin-top:1.5rem;">Review Answers</button>
            <a href="../../index.html" style="display:block; margin-top:1rem; color:#666; text-decoration:none;">Back to Dashboard</a>
        </div>
    </div>

    <!-- Test Engine Script -->
    <script src="../../../../../assets/js/test-engine.js"></script>
    <script src="../../../../../assets/js/test-dark-mode.js"></script>
    
    <!-- Test Data Configuration -->
    <script>
        const testConfig = {
            timeLimit: 60, // 1 Hour
            exitUrl: '../../index.html',
            questions: [
                // --- Section A: MCQs (1 Mark) ---
                { id: 1, type: 'mcq', section: 'Section A', marks: 1, question: "Let $R$ be a relation on the set $A = \\{1, 2, 3\\}$ defined by $R = \\{(1, 1), (2, 2), (3, 3), (1, 2), (2, 3)\\}$. Then $R$ is", options: ["Reflexive but not symmetric", "Reflexive and symmetric", "Symmetric and transitive", "Equivalence"], finalAnswer: "(a) Reflexive but not symmetric", solutionSteps: ["Reflexive: $(1,1), (2,2), (3,3)$ are present. Yes.", "Symmetric: $(1,2) \\in R$ but $(2,1) \\notin R$. No.", "Transitive: $(1,2), (2,3) \\in R$ but $(1,3) \\notin R$. No."] },
                { id: 2, type: 'mcq', section: 'Section A', marks: 1, question: "The principal value of $\\sin^{-1}(-\\frac{1}{2})$ is", options: ["$\\frac{\\pi}{6}$", "$-\\frac{\\pi}{6}$", "$\\frac{5\\pi}{6}$", "$\\frac{7\\pi}{6}$"], finalAnswer: "(b) $-\\frac{\\pi}{6}$", solutionSteps: ["$\\sin^{-1}(-x) = -\\sin^{-1}x$.", "$\\sin^{-1}(1/2) = \\pi/6$. So $-\\pi/6$."] },
                { id: 3, type: 'mcq', section: 'Section A', marks: 1, question: "Let $f: R \\to R$ be defined by $f(x) = x^4$. Then $f$ is", options: ["one-one and onto", "one-one but not onto", "onto but not one-one", "neither one-one nor onto"], finalAnswer: "(d) neither one-one nor onto", solutionSteps: ["One-one: $f(1)=1, f(-1)=1$. No.", "Onto: Range is $[0, \\infty) \\neq R$. No."] },
                { id: 4, type: 'mcq', section: 'Section A', marks: 1, question: "The domain of the function $y = \\cos^{-1}(1-x)$ is", options: ["$[-1, 1]$", "$[0, 2]$", "$[-1, 0]$", "$[1, 2]$"], finalAnswer: "(b) $[0, 2]$", solutionSteps: ["$-1 \\le 1-x \\le 1$.", "$-2 \\le -x \\le 0$.", "$0 \\le x \\le 2$."] },
                { id: 5, type: 'mcq', section: 'Section A', marks: 1, question: "Let $f: N \\to N$ be defined by $f(n) = \\begin{cases} \\frac{n+1}{2}, & \\text{if } n \\text{ is odd} \\\\ \\frac{n}{2}, & \\text{if } n \\text{ is even} \\end{cases}$. Then $f$ is", options: ["one-one but not onto", "onto but not one-one", "one-one and onto", "neither one-one nor onto"], finalAnswer: "(b) onto but not one-one", solutionSteps: ["$f(1) = 1, f(2) = 1$. Not one-one.", "For any $y \\in N$, $2y$ is even and $f(2y) = y$. Onto."] },
                { id: 11, type: 'mcq', section: 'Section A', marks: 1, question: "The value of $\\tan^{-1}\\sqrt{3} - \\sec^{-1}(-2)$ is equal to", options: ["$\\pi$", "$-\\frac{\\pi}{3}$", "$\\frac{\\pi}{3}$", "$\\frac{2\\pi}{3}$"], finalAnswer: "(b) $-\\frac{\\pi}{3}$", solutionSteps: ["$\\tan^{-1}\\sqrt{3} = \\frac{\\pi}{3}$.", "$\\sec^{-1}(-2) = \\pi - \\frac{\\pi}{3} = \\frac{2\\pi}{3}$.", "Difference: $\\frac{\\pi}{3} - \\frac{2\\pi}{3} = -\\frac{\\pi}{3}$."] },
                { id: 12, type: 'mcq', section: 'Section A', marks: 1, question: "The value of $\\sin^{-1}(\\sin \\frac{2\\pi}{3})$ is", options: ["$\\frac{2\\pi}{3}$", "$\\frac{\\pi}{3}$", "$-\\frac{\\pi}{3}$", "$\\frac{4\\pi}{3}$"], finalAnswer: "(b) $\\frac{\\pi}{3}$", solutionSteps: ["$\\sin^{-1}(\\sin \\theta) = \\theta$ if $\\theta \\in [-\\pi/2, \\pi/2]$.", "$\\frac{2\\pi}{3} \\notin [-\\pi/2, \\pi/2]$.", "$\\sin(2\\pi/3) = \\sin(\\pi - \\pi/3) = \\sin(\\pi/3)$.", "$\\sin^{-1}(\\sin \\pi/3) = \\pi/3$."] },

                // --- Section B: Subjective (2 Marks) ---
                { id: 6, type: 'subjective', section: 'Section B', marks: 2, question: "Check if the relation $R$ on the set of real numbers defined by $R = \\{(a, b) : a \\le b^2\\}$ is symmetric.", finalAnswer: "Not symmetric", solutionSteps: ["Counter example: Let $a=2, b=5$. $2 \\le 25$ (True).", "Check $(b, a)$: $5 \\le 2^2 = 4$ (False).", "So $(2, 5) \\in R$ but $(5, 2) \\notin R$."] },
                { id: 7, type: 'subjective', section: 'Section B', marks: 2, question: "Find the value of $\\tan^{-1}(1) + \\cos^{-1}(-\\frac{1}{2}) + \\sin^{-1}(-\\frac{1}{2})$.", finalAnswer: "$\\frac{3\\pi}{4}$", solutionSteps: ["$\\tan^{-1}(1) = \\pi/4$.", "$\\cos^{-1}(-1/2) = \\pi - \\pi/3 = 2\\pi/3$.", "$\\sin^{-1}(-1/2) = -\\pi/6$.", "Sum: $\\frac{\\pi}{4} + \\frac{2\\pi}{3} - \\frac{\\pi}{6} = \\frac{3\\pi + 8\\pi - 2\\pi}{12} = \\frac{9\\pi}{12} = \\frac{3\\pi}{4}$."] },
                { id: 8, type: 'subjective', section: 'Section B', marks: 2, question: "Show that the function $f: N \\to N$ given by $f(x) = 2x$ is one-one but not onto.", finalAnswer: "Proof", solutionSteps: ["One-one: $f(x_1) = f(x_2) \\implies 2x_1 = 2x_2 \\implies x_1 = x_2$.", "Onto: Range is set of even natural numbers. Odd numbers like 1, 3 are not images of any $n \\in N$."] },
                { id: 13, type: 'subjective', section: 'Section B', marks: 2, question: "Find the principal value of $\\cos^{-1}(\\cos \\frac{13\\pi}{6})$.", finalAnswer: "$\\frac{\\pi}{6}$", solutionSteps: ["$\\cos \\frac{13\\pi}{6} = \\cos(2\\pi + \\frac{\\pi}{6}) = \\cos \\frac{\\pi}{6}$.", "Principal value range of $\\cos^{-1}$ is $[0, \\pi]$.", "$\\cos^{-1}(\\cos \\frac{\\pi}{6}) = \\frac{\\pi}{6}$."] },
                { id: 14, type: 'subjective', section: 'Section B', marks: 2, question: "Check the injectivity and surjectivity of the function $f: Z \\to Z$ defined by $f(x) = x^2$.", finalAnswer: "Neither one-one nor onto", solutionSteps: ["Injectivity: $f(1) = 1, f(-1) = 1$. Not one-one.", "Surjectivity: Range is perfect squares $\\{0, 1, 4, \\dots\\}$. Negative integers are not in range. Not onto."] },

                // --- Section C: Subjective (3 Marks) ---
                { id: 9, type: 'subjective', section: 'Section C', marks: 3, question: "Find the domain of the function $f(x) = \\cos^{-1}(2x - 1) + \\sin^{-1}x$.", finalAnswer: "$[0, 1]$", solutionSteps: ["For $\\cos^{-1}(2x-1)$: $-1 \\le 2x-1 \\le 1 \\implies 0 \\le 2x \\le 2 \\implies 0 \\le x \\le 1$.", "For $\\sin^{-1}x$: $-1 \\le x \\le 1$.", "Intersection of both domains is $[0, 1]$."] },
                { id: 10, type: 'subjective', section: 'Section C', marks: 3, question: "Let $A = R - \\{3\\}$ and $B = R - \\{1\\}$. Consider the function $f: A \\to B$ defined by $f(x) = \\frac{x-2}{x-3}$. Is $f$ one-one and onto? Justify.", finalAnswer: "Yes, bijective", solutionSteps: ["One-one: $\\frac{x_1-2}{x_1-3} = \\frac{x_2-2}{x_2-3} \\implies (x_1-2)(x_2-3) = (x_2-2)(x_1-3)$.", "$x_1x_2 - 3x_1 - 2x_2 + 6 = x_1x_2 - 3x_2 - 2x_1 + 6$.", "$-x_1 = -x_2 \\implies x_1 = x_2$.", "Onto: Let $y = \\frac{x-2}{x-3}$. $xy - 3y = x - 2$.", "$x(y-1) = 3y-2 \\implies x = \\frac{3y-2}{y-1}$.", "For every $y \\in B (y \\neq 1)$, $x$ is defined and $x \\neq 3$ (if $x=3, 3y-3=3y-2 \\implies -3=-2$ False).", "So $f$ is onto."] },
                { id: 15, type: 'subjective', section: 'Section C', marks: 3, question: "Show that the relation $R$ in the set $Z$ of integers given by $R = \\{(a, b) : 2 \\text{ divides } a - b\\}$ is an equivalence relation.", finalAnswer: "Proof", solutionSteps: ["Reflexive: $a - a = 0$, divisible by 2. Yes.", "Symmetric: If $2|(a-b)$, then $a-b = 2k$. $b-a = -2k = 2(-k)$. Yes.", "Transitive: If $2|(a-b)$ and $2|(b-c)$, then $a-b=2m, b-c=2n$. Adding: $a-c = 2(m+n)$. Yes."] },

                // --- Section D: Long Answer (5 Marks) ---
                { id: 16, type: 'subjective', section: 'Section D', marks: 5, question: "Show that the relation $R$ in the set $A = \\{x \\in Z : 0 \\le x \\le 12\\}$ given by $R = \\{(a, b) : |a - b| \\text{ is a multiple of } 4\\}$ is an equivalence relation. Find the set of all elements related to 1.", finalAnswer: "Equivalence relation; Set: {1, 5, 9}", solutionSteps: ["Reflexive: $|a - a| = 0$, which is a multiple of 4. Yes.", "Symmetric: $|a - b| = |b - a|$. If $|a-b| = 4k$, then $|b-a| = 4k$. Yes.", "Transitive: $|a-b|=4k, |b-c|=4m$. $a-b = \\pm 4k, b-c = \\pm 4m$. $a-c = (a-b) + (b-c) = 4(\\dots)$. Divisible by 4. Yes.", "Elements related to 1: $|x - 1| = 4k$. $x-1 = 0, 4, 8, \\dots$ (since $x \\in [0,12]$).", "$x = 1, 5, 9$."] }
            ]
        };

        document.addEventListener('DOMContentLoaded', () => {
            new TestEngine(testConfig);

            // Mobile Palette Toggle
            const toggleBtn = document.getElementById('paletteToggle');
            const navPanel = document.querySelector('.nav-panel');
            
            if(toggleBtn && navPanel) {
                toggleBtn.addEventListener('click', () => {
                    navPanel.classList.toggle('collapsed');
                });
            }
        });
    </script>
</body>
</html>