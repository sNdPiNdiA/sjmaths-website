<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Unit 6 Test: Probability (Basic) | Class 12 Maths</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
    
    <!-- Shared Test CSS -->
    <link rel="stylesheet" href="../../../../../assets/css/test-interface.css">
    
    <!-- MathJax -->
    <script>
        window.MathJax = {
            tex: { inlineMath: [['$', '$'], ['\\(', '\\)']] },
            svg: { fontCache: 'global' }
        };
    </script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <style>
        @media (max-width: 768px) {
            #paletteToggle { display: block !important; }
            .nav-panel.collapsed #paletteBody { display: none; }
            .nav-panel.collapsed #paletteToggle i { transform: rotate(180deg); }
        }
    </style>
</head>
<body>

    <!-- Header -->
    <header class="test-header">
        <div class="logo" style="font-weight: 800; color: var(--test-primary); font-size: 1.2rem;">
            &int; SJMaths <span style="color:#666; font-weight:400;">| Unit 6 Test (Basic)</span>
        </div>
        <div class="timer-badge">
            <i class="far fa-clock"></i> <span id="timerDisplay">60:00</span>
        </div>
        <button class="btn-exit" onclick="if(confirm('Quit test?')) window.location.href='../../index.html'">
            Exit
        </button>
    </header>

    <!-- Main Layout -->
    <div class="test-container">
        
        <!-- Left: Question Area -->
        <main class="question-panel">
            <div class="section-header" id="qSection">Section A</div>
            
            <div class="q-header">
                <span id="qNumber">Question 1</span>
                <span id="qMarks">(1 Mark)</span>
            </div>

            <div class="q-text" id="qText">
                <!-- Question Content -->
            </div>

            <div id="inputArea">
                <!-- Options or Textarea -->
            </div>

            <div id="solutionArea" class="solution-div">
                <!-- Solution shown after submit -->
            </div>
        </main>

        <!-- Right: Navigation -->
        <aside class="nav-panel">
            <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:1rem;">
                <h3 style="margin:0; font-size:1rem;">Question Palette</h3>
                <button id="paletteToggle" style="background:none; border:none; color:var(--test-primary, #2c3e50); cursor:pointer; display:none; font-size:1.1rem;">
                    <i class="fas fa-chevron-up" style="transition: transform 0.3s;"></i>
                </button>
            </div>
            
            <div id="paletteBody">
                <div class="palette-grid" id="questionPalette">
                    <!-- Buttons generated by JS -->
                </div>
                
                <div style="margin-top: 2rem; font-size: 0.8rem; color: #666;">
                    <div style="display:flex; gap:8px; align-items:center; margin-bottom:5px;">
                        <span style="width:12px; height:12px; background:#27ae60; border-radius:50%;"></span> Answered
                    </div>
                    <div style="display:flex; gap:8px; align-items:center; margin-bottom:5px;">
                        <span style="width:12px; height:12px; background:#c0392b; border-radius:50%;"></span> Visited
                    </div>
                    <div style="display:flex; gap:8px; align-items:center;">
                        <span style="width:12px; height:12px; border:1px solid #ccc; border-radius:50%;"></span> Not Visited
                    </div>
                </div>
            </div>
        </aside>

    </div>

    <!-- Footer -->
    <footer class="test-footer">
        <button class="btn-nav btn-prev" id="btnPrev">Previous</button>
        <button class="btn-nav btn-next" id="btnNext">Next</button>
    </footer>

    <!-- Result Modal -->
    <div class="result-overlay" id="resultModal">
        <div class="result-card">
            <div class="score-circle">
                <div class="score-text"></div>
            </div>
            <div id="resultMessage"></div>
            <button class="btn-nav btn-submit" onclick="closeResult()" style="margin-top:1.5rem;">Review Answers</button>
            <a href="../../index.html" style="display:block; margin-top:1rem; color:#666; text-decoration:none;">Back to Dashboard</a>
        </div>
    </div>

    <!-- Test Engine Script -->
    <script src="../../../../../assets/js/test-engine.js"></script>
    <script src="../../../../../assets/js/test-dark-mode.js"></script>
    
    <!-- Test Data Configuration -->
    <script>
        const testConfig = {
            timeLimit: 60, // 1 Hour
            exitUrl: '../../index.html',
            questions: [
                // --- Section A: MCQs (1 Mark) ---
                { id: 1, type: 'mcq', section: 'Section A', marks: 1, question: "If $P(A) = 0.6, P(B) = 0.3$ and $P(A \\cap B) = 0.2$, then $P(A|B)$ is", options: ["2/3", "1/3", "3/4", "1/2"], finalAnswer: "(a) 2/3", solutionSteps: ["$P(A|B) = \\frac{P(A \\cap B)}{P(B)} = \\frac{0.2}{0.3} = \\frac{2}{3}$."] },
                { id: 2, type: 'mcq', section: 'Section A', marks: 1, question: "If A and B are independent events with $P(A) = 0.3$ and $P(B) = 0.4$, then $P(A \\cap B)$ is", options: ["0.7", "0.12", "0.1", "0.5"], finalAnswer: "(b) 0.12", solutionSteps: ["For independent events, $P(A \\cap B) = P(A)P(B) = 0.3 \\times 0.4 = 0.12$."] },
                { id: 3, type: 'mcq', section: 'Section A', marks: 1, question: "A random variable X has probability distribution $P(X=x) = kx$ for $x=1, 2, 3$. The value of $k$ is", options: ["1/6", "1/3", "1/5", "1"], finalAnswer: "(a) 1/6", solutionSteps: ["$\\sum P(X) = 1 \\implies k(1+2+3) = 1 \\implies 6k = 1 \\implies k = 1/6$."] },
                { id: 4, type: 'mcq', section: 'Section A', marks: 1, question: "If $P(A) = 1/2, P(B) = 0$, then $P(A|B)$ is", options: ["0", "1/2", "Not defined", "1"], finalAnswer: "(c) Not defined", solutionSteps: ["$P(A|B) = \\frac{P(A \\cap B)}{P(B)}$. Since $P(B)=0$, it is not defined."] },
                { id: 5, type: 'mcq', section: 'Section A', marks: 1, question: "Two cards are drawn from a pack of 52 cards without replacement. The probability that both are aces is", options: ["1/221", "1/26", "1/169", "4/13"], finalAnswer: "(a) 1/221", solutionSteps: ["$P(A_1) = 4/52 = 1/13$.", "$P(A_2|A_1) = 3/51 = 1/17$.", "$P(A_1 \\cap A_2) = \\frac{1}{13} \\times \\frac{1}{17} = \\frac{1}{221}$."] },

                // --- Section B: Subjective (2 Marks) ---
                { id: 6, type: 'subjective', section: 'Section B', marks: 2, question: "A coin is tossed 3 times. Find the probability of getting exactly one head.", finalAnswer: "3/8", solutionSteps: ["Sample space size = $2^3 = 8$.", "Favorable outcomes: {HTT, THT, TTH} (3 outcomes).", "Probability = 3/8."] },
                { id: 7, type: 'subjective', section: 'Section B', marks: 2, question: "If $P(A) = 0.8, P(B) = 0.5$ and $P(B|A) = 0.4$, find $P(A \\cap B)$.", finalAnswer: "0.32", solutionSteps: ["$P(A \\cap B) = P(A)P(B|A) = 0.8 \\times 0.4 = 0.32$."] },
                { id: 8, type: 'subjective', section: 'Section B', marks: 2, question: "A bag contains 3 white and 2 black balls. Two balls are drawn at random. Find the probability that they are of different colours.", finalAnswer: "3/5", solutionSteps: ["Total ways to draw 2 balls from 5 = $^5C_2 = 10$.", "Favorable ways (1W, 1B) = $^3C_1 \\times ^2C_1 = 3 \\times 2 = 6$.", "Probability = $6/10 = 3/5$."] },

                // --- Section C: Subjective (3 Marks) ---
                { id: 9, type: 'subjective', section: 'Section C', marks: 3, question: "A die is thrown. If E is the event 'the number appearing is a multiple of 3' and F is the event 'the number appearing is even', find whether E and F are independent.", finalAnswer: "Yes, Independent", solutionSteps: ["$E = \\{3, 6\\}, P(E) = 2/6 = 1/3$.", "$F = \\{2, 4, 6\\}, P(F) = 3/6 = 1/2$.", "$E \\cap F = \\{6\\}, P(E \\cap F) = 1/6$.", "$P(E)P(F) = (1/3)(1/2) = 1/6$.", "Since $P(E \\cap F) = P(E)P(F)$, events are independent."] },
                { id: 10, type: 'subjective', section: 'Section C', marks: 3, question: "Find the probability distribution of the number of heads in two tosses of a coin.", finalAnswer: "X: 0, 1, 2; P: 1/4, 1/2, 1/4", solutionSteps: ["Sample Space: {HH, HT, TH, TT}.", "X = 0 (TT): P = 1/4.", "X = 1 (HT, TH): P = 2/4 = 1/2.", "X = 2 (HH): P = 1/4."] },
                { id: 11, type: 'subjective', section: 'Section C', marks: 3, question: "Bag I contains 3 red and 4 black balls while Bag II contains 5 red and 6 black balls. One ball is drawn at random from one of the bags and it is found to be red. Find the probability that it was drawn from Bag II.", finalAnswer: "35/68", solutionSteps: ["Let $E_1, E_2$ be events of choosing Bag I, Bag II. $P(E_1)=P(E_2)=1/2$.", "Let A be event 'Red ball'. $P(A|E_1) = 3/7, P(A|E_2) = 5/11$.", "By Bayes' Theorem: $P(E_2|A) = \\frac{P(E_2)P(A|E_2)}{P(E_1)P(A|E_1) + P(E_2)P(A|E_2)}$.", "$= \\frac{0.5 \\times 5/11}{0.5 \\times 3/7 + 0.5 \\times 5/11} = \\frac{5/11}{3/7 + 5/11} = \\frac{5/11}{68/77} = \\frac{5}{11} \\times \\frac{77}{68} = \\frac{35}{68}$."] },

                // --- Section D: Long Answer (5 Marks) ---
                { id: 12, type: 'subjective', section: 'Section D', marks: 5, question: "A person has undertaken a construction job. The probabilities are 0.65 that there will be strike, 0.80 that the construction job will be completed on time if there is no strike, and 0.32 that the construction job will be completed on time if there is a strike. Determine the probability that the construction job will be completed on time.", finalAnswer: "0.488", solutionSteps: ["Let A be event 'Job completed on time'.", "Let B be event 'Strike'. $P(B) = 0.65$.", "Let B' be event 'No Strike'. $P(B') = 1 - 0.65 = 0.35$.", "Given: $P(A|B') = 0.80$ (No strike, on time).", "Given: $P(A|B) = 0.32$ (Strike, on time).", "By Total Probability Theorem: $P(A) = P(B)P(A|B) + P(B')P(A|B')$.", "$P(A) = (0.65)(0.32) + (0.35)(0.80)$.", "$= 0.208 + 0.280 = 0.488$."] }
            ]
        };

        document.addEventListener('DOMContentLoaded', () => {
            new TestEngine(testConfig);

            // Mobile Palette Toggle
            const toggleBtn = document.getElementById('paletteToggle');
            const navPanel = document.querySelector('.nav-panel');
            
            if(toggleBtn && navPanel) {
                toggleBtn.addEventListener('click', () => {
                    navPanel.classList.toggle('collapsed');
                });
            }
        });
    </script>
</body>
</html>