:root{--ex-primary: #8e44ad;--ex-primary-light: #9b59b6;--ex-accent: #f39c12;--ex-text-dark: #2c3e50;--ex-text-light: #7f8c8d;--ex-bg-light: #fdfbfd;--ex-card-bg: #ffffff;--ex-success: #27ae60;--ex-radius: 16px;--ex-shadow: 0 10px 30px rgba(0,0,0,.05);--ex-container-width: 900px}body{background-color:var(--ex-bg-light);color:var(--ex-text-dark)}.breadcrumb{max-width:var(--ex-container-width);width:100%;margin:0 auto;padding:1rem;background:#fff;border-bottom:1px solid #eee;text-align:center;font-size:.9rem;color:var(--ex-text-light)}.breadcrumb a{color:var(--ex-text-dark);text-decoration:none;font-weight:500;transition:color .2s}.breadcrumb a:hover{color:var(--ex-primary)}.breadcrumb span{color:var(--ex-primary);font-weight:600}.exercise-header{text-align:center;margin-bottom:2rem;margin-top:1rem;position:relative}.exercise-header h1{font-size:2.5rem;margin-bottom:.5rem;color:var(--ex-primary);font-weight:700;font-family:Poppins,sans-serif}.exercise-header p{font-size:1.1rem;color:var(--ex-text-light)}main.exercise-main{max-width:var(--ex-container-width);margin:0 auto;padding:2rem 1rem}.question-card{background:var(--ex-card-bg);border-radius:var(--ex-radius);padding:2rem;margin-bottom:2rem;box-shadow:var(--ex-shadow);border:1px solid rgba(0,0,0,.05);transition:transform .3s ease,box-shadow .3s ease;position:relative;overflow:hidden;scroll-margin-top:100px}.question-card:hover{transform:translateY(-5px);box-shadow:0 15px 35px #0000001a}.question-card:before{content:"";position:absolute;left:0;top:0;height:100%;width:5px;background:var(--ex-primary)}.question-card.active-card{border:2px solid var(--ex-primary);box-shadow:0 8px 30px #7b1fa226}.q-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:1.5rem;border-bottom:1px solid #eee;padding-bottom:1rem;flex-wrap:wrap;gap:10px}.q-badge{background:#8e44ad1a;color:var(--ex-primary);padding:.4rem 1rem;border-radius:50px;font-size:.9rem;font-weight:600}.question-text{font-size:1.1rem;line-height:1.8;margin-bottom:1.5rem;color:var(--ex-text-dark)}.timer-box{display:flex;align-items:center;gap:8px;background:#f0f0f0;padding:5px 12px;border-radius:20px;font-family:Poppins,sans-serif;font-weight:600;font-size:.9rem;color:#555;transition:.3s}.timer-box.running{background:#e8f5e9;color:var(--ex-success);border:1px solid var(--ex-success)}@keyframes pulse{0%{transform:scale(1)}50%{transform:scale(1.05)}to{transform:scale(1)}}.timer-box.running i{animation:pulse 1s infinite}.solution-btn{background:transparent;border:2px solid var(--ex-primary);color:var(--ex-primary);padding:.6rem 1.5rem;border-radius:50px;font-weight:600;cursor:pointer;display:inline-flex;align-items:center;gap:8px;transition:all .3s ease}.solution-btn:hover{background:var(--ex-primary);color:#fff}.solution-content{display:none;margin-top:1.5rem;padding:1.5rem;background:#f8f9fa;border-radius:12px;border-left:4px solid var(--ex-accent)}.step,.sol-step{margin-bottom:1rem;padding-bottom:1rem;border-bottom:1px dashed #e0e0e0}.step:last-child,.sol-step:last-child{border-bottom:none}.final-ans{background:#8e44ad0d;color:var(--ex-primary);padding:1rem;border-radius:8px;font-weight:700;text-align:center;margin-top:1rem}.nav-buttons-container{display:flex;justify-content:space-between;gap:1rem;margin-top:3rem;flex-wrap:wrap}.nav-btn{flex:1;min-width:200px;padding:1rem;border-radius:12px;text-align:center;text-decoration:none;font-weight:600;transition:all .3s ease;display:flex;align-items:center;justify-content:center;gap:10px}.btn-prev{background:#fff;color:var(--ex-text-dark)!important;border:1px solid #ddd;box-shadow:none}.btn-prev:hover{background:#f1f1f1;transform:translateY(-2px)}.btn-next{background:var(--ex-primary);color:#fff;box-shadow:0 4px 15px #8e44ad4d}.btn-next:hover{background:var(--ex-primary-light);transform:translateY(-2px);box-shadow:0 6px 20px #8e44ad66}.btn-index{background:var(--ex-text-dark);color:#fff}.btn-index:hover{background:#000;transform:translateY(-2px)}body.dark-mode .btn-prev{background:#1e293b;color:#f1f5f9!important;border-color:#ffffff1a}body.dark-mode .btn-prev:hover{background:#334155}.btn-floating-index{position:fixed;bottom:30px;right:100px;background:var(--ex-text-dark);color:#fff;border:none;padding:12px 24px;border-radius:50px;font-weight:600;cursor:pointer;z-index:990;box-shadow:0 4px 20px #00000026;display:flex;align-items:center;gap:10px;transition:all .3s ease;text-decoration:none}.btn-floating-index:hover{transform:translateY(-3px);box-shadow:0 8px 25px #00000040;background:#000;color:#fff}@media(max-width:768px){.btn-floating-index{bottom:90px;right:20px;padding:0;width:50px;height:50px;justify-content:center;border-radius:50%}.btn-floating-index span{display:none}}.mark-important-btn{background:none;border:none;color:#ccc;font-size:1.2rem;cursor:pointer;transition:color .3s,transform .2s;padding:5px}.mark-important-btn:hover{transform:scale(1.1)}.mark-important-btn.active{color:#ffc107}.question-card.important{border:2px solid #ffc107;box-shadow:0 8px 30px #ffc10726}@media(max-width:768px){.nav-buttons-container{flex-direction:column;align-items:center}.nav-btn{width:100%;max-width:100%}.q-header{align-items:flex-start}.timer-box{font-size:.8rem;padding:4px 8px}}body.focus-mode:before{content:"";position:fixed;top:0;left:0;width:100%;height:100%;background:#000000eb;z-index:999;pointer-events:none;transition:opacity .3s ease}body.focus-mode .question-card{opacity:.15;transition:opacity .3s,transform .3s,filter .3s;filter:blur(3px)}body.focus-mode .question-card.active-card{opacity:1;z-index:1000;transform:scale(1.02);filter:none;box-shadow:0 0 50px #000c;border-color:var(--ex-primary)}body.focus-mode header,body.focus-mode footer,body.focus-mode .breadcrumb,body.focus-mode .exercise-header,body.focus-mode .nav-buttons-container{opacity:.05;filter:blur(5px);pointer-events:none}.focus-mode-btn{position:fixed;bottom:30px;left:30px;background:#fff;color:#333;border:1px solid rgba(0,0,0,.1);padding:12px 24px;border-radius:50px;font-weight:600;cursor:pointer;z-index:1001;box-shadow:0 4px 20px #00000026;display:flex;align-items:center;gap:10px;transition:all .3s cubic-bezier(.4,0,.2,1);font-family:Poppins,sans-serif}.focus-mode-btn:hover{transform:translateY(-3px);box-shadow:0 8px 25px #0003;color:var(--ex-primary)}.focus-mode-btn.active{background:var(--ex-primary);color:#fff;border-color:var(--ex-primary);box-shadow:0 0 20px #7b1fa266}body.dark-mode mjx-container{color:#e0e0e0!important;font-size:110%}body.dark-mode mjx-container path,body.dark-mode mjx-container rect{fill:currentColor;stroke:currentColor}body.dark-mode .focus-mode-btn{background:#2d2d2d;color:#e0e0e0;border-color:#444}body.dark-mode .focus-mode-btn.active{background:var(--ex-primary);color:#fff}.formula-btn{position:fixed;bottom:90px;left:30px;background:#fff;color:#333;border:1px solid rgba(0,0,0,.1);padding:12px 24px;border-radius:50px;font-weight:600;cursor:pointer;z-index:1001;box-shadow:0 4px 20px #00000026;display:flex;align-items:center;gap:10px;transition:all .3s cubic-bezier(.4,0,.2,1);font-family:Poppins,sans-serif}.formula-btn:hover{transform:translateY(-3px);box-shadow:0 8px 25px #0003;color:var(--ex-primary)}.formula-modal-overlay{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;z-index:2000;display:none;justify-content:center;align-items:center;backdrop-filter:blur(5px);opacity:0;transition:opacity .3s ease}.formula-modal-overlay.active{display:flex;opacity:1}.formula-modal{background:#fff;width:90%;max-width:800px;max-height:85vh;border-radius:16px;box-shadow:0 20px 50px #0003;display:flex;flex-direction:column;overflow:hidden;transform:translateY(20px);transition:transform .3s ease}.formula-modal-overlay.active .formula-modal{transform:translateY(0)}.fm-header{padding:1.5rem;border-bottom:1px solid #eee;display:flex;justify-content:space-between;align-items:center;background:#f8f9fa}.fm-header h2{font-size:1.5rem;margin:0;color:var(--ex-primary)}.fm-close{background:none;border:none;font-size:1.5rem;cursor:pointer;color:#666;transition:.2s}.fm-close:hover{color:#d32f2f;transform:rotate(90deg)}.fm-body{padding:2rem;overflow-y:auto}.fm-section{margin-bottom:2rem}.fm-section h3{font-size:1.1rem;margin-bottom:1rem;color:#333;border-left:4px solid var(--ex-primary);padding-left:10px}.formula-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(250px,1fr));gap:1.5rem}.formula-item{background:#f8f9fa;padding:1rem;border-radius:8px;border:1px solid #eee}@media(max-width:768px){.formula-btn{bottom:80px;left:20px;padding:10px 16px;font-size:.9rem}.formula-btn span{display:none}}body.dark-mode .formula-btn{background:#2d2d2d;color:#e0e0e0;border-color:#444}body.dark-mode .formula-modal{background:#1e1e1e;color:#e0e0e0}body.dark-mode .fm-header{background:#252525;border-color:#333}body.dark-mode .formula-item{background:#2d2d2d;border-color:#444}body.dark-mode .fm-section h3{color:#e0e0e0}
