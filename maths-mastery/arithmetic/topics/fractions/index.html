<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fractions - Maths Mastery - SJMaths</title>
    <link rel="stylesheet" href="../../../../assets/css/main.min.css?v=1769754882">
    <link rel="stylesheet" href="../../../../assets/css/layout.min.css?v=1769754882">
    <link rel="stylesheet" href="../../../../assets/css/component.min.css?v=1769754882">
    <link rel="stylesheet" href="../../../css/maths-mastery.css">
    <script src="../../../js/unlock.js" defer></script>
</head>
<body>
    <div id="header-placeholder"></div>

    <div class="breadcrumb-container">
        <nav aria-label="breadcrumb">
            <ol class="breadcrumb">
                <li class="breadcrumb-item"><a href="/maths-mastery/index.html">Maths Mastery</a></li>
                <li class="breadcrumb-item"><a href="/maths-mastery/arithmetic/index.html">Arithmetic</a></li>
                <li class="breadcrumb-item active" aria-current="page">Fractions</li>
            </ol>
        </nav>
    </div>

    <div class="topic-header">
        <h1>Fractions</h1>
        <div class="progress-container">
            <div class="progress-bar" style="width: 25%;"></div>
            <span>1 / 4 Completed</span>
        </div>
    </div>

    <section class="micro-topic-list">
        <a href="../microtopics/fractions/types-of-fractions/learn.html" id="types-of-fractions" data-microtopic="types-of-fractions" class="micro-topic-item">
            <div class="micro-topic-content">
                <h3>1. Types of Fractions</h3>
                <p>Learn about proper, improper, and mixed fractions.</p>
            </div>
            <div class="micro-topic-action">
                <button class="btn btn-primary">Start</button>
            </div>
        </a>
        <a href="../microtopics/fractions/equivalent-fractions/learn.html" id="equivalent-fractions" data-microtopic="equivalent-fractions" class="micro-topic-item">
            <div class="micro-topic-content">
                <h3>2. Equivalent Fractions</h3>
                <p>Understand fractions that represent the same value.</p>
            </div>
            <div class="micro-topic-action">
                <span class="lock-icon">ðŸ”’</span>
            </div>
        </a>
        <a href="../microtopics/fractions/simplification/learn.html" id="simplification" data-microtopic="simplification" class="micro-topic-item">
            <div class="micro-topic-content">
                <h3>3. Simplification of Fractions</h3>
                <p>Reduce fractions to their simplest form.</p>
            </div>
            <div class="micro-topic-action">
                <span class="lock-icon">ðŸ”’</span>
            </div>
        </a>
    </section>

    <div id="footer-placeholder"></div>

    <script>
        async function loadComponent(id, file) {
            const target = document.getElementById(id);
            if (!target) return;

            try {
                const res = await fetch(file);
                if (!res.ok) throw new Error(`Failed to load ${file}`);
                target.innerHTML = await res.text();
            } catch (err) {
                console.warn(err.message);
            }
        }

        loadComponent('header-placeholder', '../../../../components/header.html');
        loadComponent('footer-placeholder', '../../../../components/footer.html');
    </script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const topicId = 'fractions'; // This should be dynamic based on the page
            const microTopicItems = document.querySelectorAll('.micro-topic-item');

            microTopicItems.forEach(item => {
                const microtopicId = item.dataset.microtopic;
                if (isUnlocked(topicId, microtopicId)) {
                    item.classList.add('unlocked');
                    item.querySelector('.lock-icon')?.remove();
                } else {
                    item.classList.add('locked');
                    item.href = 'javascript:void(0);'; // Disable click
                    item.style.pointerEvents = 'none';
                    item.style.opacity = '0.6';
                }
            });
        });
    </script>
</body>
</html>