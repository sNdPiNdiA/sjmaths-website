 /* --- 1. CSS VARIABLES (THEME ENGINE) --- */
 :root {
     /* --- LIGHT MODE PALETTE (Default) --- */
     --primary: #7B1FA2;
     /* Deep Purple Brand Color */
     --primary-accent: #7B1FA2;
     /* Text Links/Icons */
     --primary-surface: #F3E5F5;
     /* Light backgrounds for badges */

     --bg-body: linear-gradient(180deg, #FDFBFD 0%, #F3E5F5 100%);
     --bg-header: rgba(255, 255, 255, 0.90);
     --bg-card: #ffffff;
     --bg-secondary: #f9f9f9;
     /* Solution box background */
     --bg-button: #f5f5f5;
     /* Toggle buttons */

     --text-main: #333333;
     --text-muted: #666666;

     --border-light: rgba(0, 0, 0, 0.08);
     --shadow-card: 0 8px 30px rgba(0, 0, 0, 0.08);

     --success: #2E7D32;
     --warning: #F9A825;
     --danger: #C62828;

     --footer-bg: #121212;

     /* Layout */
     --radius: 16px;
     --container-width: 900px;
 }

 /* --- DARK MODE PALETTE --- */
 body.dark-mode {
     /* Lighter purple for readability on dark backgrounds */
     --primary: #9C27B0;
     --primary-accent: #E1BEE7;
     /* Lavender for text/icons */
     --primary-surface: rgba(156, 39, 176, 0.15);

     /* Dark Surfaces */
     --bg-body: #121212;
     /* Deep dark grey, almost black */
     --bg-header: rgba(18, 18, 18, 0.90);
     --bg-card: #1E1E1E;
     /* Slightly lighter grey for cards */
     --bg-secondary: #2C2C2C;
     /* Distinct grey for solution boxes */
     --bg-button: #2C2C2C;

     --text-main: #E0E0E0;
     /* Soft White */
     --text-muted: #A0A0A0;
     /* Grey text */

     --border-light: rgba(255, 255, 255, 0.1);
     --shadow-card: 0 8px 30px rgba(0, 0, 0, 0.5);
     /* Stronger shadow */

     /* Adjust status colors for dark mode visibility */
     --success: #66BB6A;
     --warning: #FFCA28;
 }